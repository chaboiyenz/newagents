{% extends 'index.html' %}
{% block content %}
<div class="container mx-auto mt-6 px-4 max-w-6xl">
    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
        <!-- Enhanced Header -->
        <div class="bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-5">
            <h2 class="text-2xl font-bold text-white">Edit Subdivision</h2>
            <p class="text-indigo-100 text-sm mt-1">Update property information</p>
        </div>
        
        <form method="post" enctype="multipart/form-data" class="p-6">
            {% csrf_token %}
            
            <!-- Two Column Layout -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Left Column -->
                <div class="space-y-6">
                    <!-- Basic Info Section -->
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Basic Information
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <label for="{{ form.name.id_for_label }}" class="block text-sm font-medium text-gray-700">Name *</label>
                                {{ form.name }}
                                {% if form.name.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.name.errors.0 }}</p>
                                {% endif %}
                            </div>
                            
                            <div>
                                <label for="{{ form.description.id_for_label }}" class="block text-sm font-medium text-gray-700">Description *</label>
                                {{ form.description }}
                                {% if form.description.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.description.errors.0 }}</p>
                                {% endif %}
                            </div>
                            
                            <div>
                                <label for="{{ form.city.id_for_label }}" class="block text-sm font-medium text-gray-700">City *</label>
                                {{ form.city }}
                                {% if form.city.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.city.errors.0 }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <!-- Pricing Section -->
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Pricing Details
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="{{ form.price_min.id_for_label }}" class="block text-sm font-medium text-gray-700">Minimum Price *</label>
                                {{ form.price_min }}
                                {% if form.price_min.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.price_min.errors.0 }}</p>
                                {% endif %}
                            </div>
                            
                            <div>
                                <label for="{{ form.price_max.id_for_label }}" class="block text-sm font-medium text-gray-700">Maximum Price *</label>
                                {{ form.price_max }}
                                {% if form.price_max.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.price_max.errors.0 }}</p>
                                {% endif %}
                            </div>
                            
                            <div>
                                <label for="{{ form.commission.id_for_label }}" class="block text-sm font-medium text-gray-700">Commission *</label>
                                {{ form.commission }}
                                {% if form.commission.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.commission.errors.0 }}</p>
                                {% endif %}
                            </div>

                            <div>
                                <label for="{{ form.priority.id_for_label }}" class="block text-sm font-medium text-gray-700">Priority *</label>
                                {{ form.priority }}
                                {% if form.priority.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.priority.errors.0 }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="space-y-6">
                    <!-- Additional Info Section -->
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Additional Details
                        </h3>
                        <div class="space-y-4">
                            <!-- Location -->
                            <div>
                                <label for="{{ form.location.id_for_label }}" class="block text-sm font-medium text-gray-700">Location Details</label>
                                {{ form.location }}
                                {% if form.location.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.location.errors.0 }}</p>
                                {% endif %}
                            </div>

                            <!-- House Model -->
                            <div>
                                <label for="{{ form.house_model.id_for_label }}" class="block text-sm font-medium text-gray-700">House Model</label>
                                {{ form.house_model }}
                                {% if form.house_model.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.house_model.errors.0 }}</p>
                                {% endif %}
                            </div>

                            <!-- Developer -->
                            <div>
                                <label for="{{ form.developer.id_for_label }}" class="block text-sm font-medium text-gray-700">Developer</label>
                                {{ form.developer }}
                                {% if form.developer.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.developer.errors.0 }}</p>
                                {% endif %}
                            </div>

                            <!-- Construction Status -->
                            <div>
                                <label for="{{ form.construction_status.id_for_label }}" class="block text-sm font-medium text-gray-700">Construction Status</label>
                                {{ form.construction_status }}
                                {% if form.construction_status.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.construction_status.errors.0 }}</p>
                                {% endif %}
                            </div>

                            <!-- Messenger Link -->
                            <div>
                                <label for="{{ form.messenger_link.id_for_label }}" class="block text-sm font-medium text-gray-700">Messenger Link</label>
                                {{ form.messenger_link }}
                                {% if form.messenger_link.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.messenger_link.errors.0 }}</p>
                                {% endif %}
                            </div>
                            
                            <!-- Google Drive Link -->
                            <div>
                                <label for="{{ form.google_drive_link.id_for_label }}" class="block text-sm font-medium text-gray-700">Google Drive Link</label>
                                {{ form.google_drive_link }}
                                {% if form.google_drive_link.errors %}
                                    <p class="text-red-500 text-xs mt-1">{{ form.google_drive_link.errors.0 }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <!-- Image Upload Section -->
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                            Property Images
                        </h3>
                        <div class="grid grid-cols-2 gap-4">
                            {% for field in form %}
                                {% if 'image' in field.name %}
                                    <div>
                                        <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">
                                            {{ field.label }}
                                        </label>
                                        {{ field }}
                                        {% if field.value %}
                                            <p class="text-sm text-indigo-600 mt-1">Current: {{ field.value }}</p>
                                        {% endif %}
                                        {% if field.errors %}
                                            <p class="text-red-500 text-xs mt-1">{{ field.errors.0 }}</p>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="mt-8 pt-6 border-t border-gray-200 flex justify-end space-x-4">
                <a href="#" class="px-6 py-2.5 text-sm font-medium text-gray-700 hover:text-gray-500">
                    Cancel
                </a>
                <button type="submit" class="px-6 py-2.5 text-base font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path>
                    </svg>
                    Save Changes
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}